import React, { useState } from "react";
import Box from "@mui/material/Box";
import InputLabel from "@mui/material/InputLabel";
import MenuItem from "@mui/material/MenuItem";
import FormControl from "@mui/material/FormControl";
import Select from "@mui/material/Select";
import PropTypes from "prop-types";

const FilterBox = ({ options, width, placeholder, type, height }) => {
  const [value, setvalue] = useState("");

  const handleChange = (e) => {
    setvalue(e.target.value);
  };

  <svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path
      d="M4.00028 1.80001C4.00028 1.48175 3.87386 1.17652 3.64881 0.951478C3.42377 0.726434 3.11854 0.600006 2.80028 0.600006C2.48203 0.600006 2.1768 0.726434 1.95176 0.951478C1.72671 1.17652 1.60028 1.48175 1.60028 1.80001L1.60028 10.5216C1.23547 10.7323 0.932524 11.0352 0.721899 11.4001C0.511275 11.7649 0.400391 12.1787 0.400391 12.6C0.400391 13.0213 0.511275 13.4351 0.721899 13.8C0.932524 14.1648 1.23547 14.4678 1.60028 14.6784V16.2C1.60028 16.5183 1.72671 16.8235 1.95176 17.0485C2.1768 17.2736 2.48203 17.4 2.80028 17.4C3.11854 17.4 3.42377 17.2736 3.64881 17.0485C3.87386 16.8235 4.00028 16.5183 4.00028 16.2V14.6784C4.3651 14.4678 4.66805 14.1648 4.87867 13.8C5.0893 13.4351 5.20018 13.0213 5.20018 12.6C5.20018 12.1787 5.0893 11.7649 4.87867 11.4001C4.66805 11.0352 4.3651 10.7323 4.00028 10.5216V1.80001ZM11.2003 1.80001C11.2003 1.48175 11.0739 1.17652 10.8488 0.951478C10.6238 0.726434 10.3185 0.600006 10.0003 0.600006C9.68202 0.600006 9.3768 0.726434 9.15176 0.951478C8.92671 1.17652 8.80028 1.48175 8.80028 1.80001V3.32161C8.43547 3.53226 8.13252 3.83523 7.9219 4.20006C7.71128 4.56489 7.60039 4.97874 7.60039 5.40001C7.60039 5.82127 7.71128 6.23512 7.9219 6.59995C8.13252 6.96479 8.43547 7.26775 8.80028 7.47841L8.80028 16.2C8.80028 16.5183 8.92671 16.8235 9.15176 17.0485C9.3768 17.2736 9.68202 17.4 10.0003 17.4C10.3185 17.4 10.6238 17.2736 10.8488 17.0485C11.0739 16.8235 11.2003 16.5183 11.2003 16.2L11.2003 7.47841C11.5651 7.26775 11.868 6.96479 12.0787 6.59995C12.2893 6.23512 12.4002 5.82127 12.4002 5.40001C12.4002 4.97874 12.2893 4.56489 12.0787 4.20006C11.868 3.83523 11.5651 3.53226 11.2003 3.32161V1.80001ZM17.2003 0.600006C17.5185 0.600006 17.8238 0.726434 18.0488 0.951478C18.2739 1.17652 18.4003 1.48175 18.4003 1.80001V10.5216C18.7651 10.7323 19.068 11.0352 19.2787 11.4001C19.4893 11.7649 19.6002 12.1787 19.6002 12.6C19.6002 13.0213 19.4893 13.4351 19.2787 13.8C19.068 14.1648 18.7651 14.4678 18.4003 14.6784V16.2C18.4003 16.5183 18.2739 16.8235 18.0488 17.0485C17.8238 17.2736 17.5185 17.4 17.2003 17.4C16.882 17.4 16.5768 17.2736 16.3518 17.0485C16.1267 16.8235 16.0003 16.5183 16.0003 16.2V14.6784C15.6355 14.4678 15.3325 14.1648 15.1219 13.8C14.9113 13.4351 14.8004 13.0213 14.8004 12.6C14.8004 12.1787 14.9113 11.7649 15.1219 11.4001C15.3325 11.0352 15.6355 10.7323 16.0003 10.5216V1.80001C16.0003 1.48175 16.1267 1.17652 16.3518 0.951478C16.5768 0.726434 16.882 0.600006 17.2003 0.600006Z"
      fill="#828282"
    />
  </svg>;

  return (
    <Box sx={{ width, fontSize: "1.6rem", background: "white" }}>
      <FormControl fullWidth>
        {type === "referral" ? (
          <InputLabel id="demo-simple-select-label">
            <Box
              sx={{
                display: "flex",
                // margin: "0 30px",
                justifyContent: "space-between",
                alignItems: "center",
                fontSize: "1.6rem",
                height: "100%",
              }}
            >
              <span style={{ width: "10.4rem" }}>{placeholder}</span>
              &nbsp;
              <svg
                width="24"
                height="24"
                viewBox="0 0 20 18"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M4.00028 1.80001C4.00028 1.48175 3.87386 1.17652 3.64881 0.951478C3.42377 0.726434 3.11854 0.600006 2.80028 0.600006C2.48203 0.600006 2.1768 0.726434 1.95176 0.951478C1.72671 1.17652 1.60028 1.48175 1.60028 1.80001L1.60028 10.5216C1.23547 10.7323 0.932524 11.0352 0.721899 11.4001C0.511275 11.7649 0.400391 12.1787 0.400391 12.6C0.400391 13.0213 0.511275 13.4351 0.721899 13.8C0.932524 14.1648 1.23547 14.4678 1.60028 14.6784V16.2C1.60028 16.5183 1.72671 16.8235 1.95176 17.0485C2.1768 17.2736 2.48203 17.4 2.80028 17.4C3.11854 17.4 3.42377 17.2736 3.64881 17.0485C3.87386 16.8235 4.00028 16.5183 4.00028 16.2V14.6784C4.3651 14.4678 4.66805 14.1648 4.87867 13.8C5.0893 13.4351 5.20018 13.0213 5.20018 12.6C5.20018 12.1787 5.0893 11.7649 4.87867 11.4001C4.66805 11.0352 4.3651 10.7323 4.00028 10.5216V1.80001ZM11.2003 1.80001C11.2003 1.48175 11.0739 1.17652 10.8488 0.951478C10.6238 0.726434 10.3185 0.600006 10.0003 0.600006C9.68202 0.600006 9.3768 0.726434 9.15176 0.951478C8.92671 1.17652 8.80028 1.48175 8.80028 1.80001V3.32161C8.43547 3.53226 8.13252 3.83523 7.9219 4.20006C7.71128 4.56489 7.60039 4.97874 7.60039 5.40001C7.60039 5.82127 7.71128 6.23512 7.9219 6.59995C8.13252 6.96479 8.43547 7.26775 8.80028 7.47841L8.80028 16.2C8.80028 16.5183 8.92671 16.8235 9.15176 17.0485C9.3768 17.2736 9.68202 17.4 10.0003 17.4C10.3185 17.4 10.6238 17.2736 10.8488 17.0485C11.0739 16.8235 11.2003 16.5183 11.2003 16.2L11.2003 7.47841C11.5651 7.26775 11.868 6.96479 12.0787 6.59995C12.2893 6.23512 12.4002 5.82127 12.4002 5.40001C12.4002 4.97874 12.2893 4.56489 12.0787 4.20006C11.868 3.83523 11.5651 3.53226 11.2003 3.32161V1.80001ZM17.2003 0.600006C17.5185 0.600006 17.8238 0.726434 18.0488 0.951478C18.2739 1.17652 18.4003 1.48175 18.4003 1.80001V10.5216C18.7651 10.7323 19.068 11.0352 19.2787 11.4001C19.4893 11.7649 19.6002 12.1787 19.6002 12.6C19.6002 13.0213 19.4893 13.4351 19.2787 13.8C19.068 14.1648 18.7651 14.4678 18.4003 14.6784V16.2C18.4003 16.5183 18.2739 16.8235 18.0488 17.0485C17.8238 17.2736 17.5185 17.4 17.2003 17.4C16.882 17.4 16.5768 17.2736 16.3518 17.0485C16.1267 16.8235 16.0003 16.5183 16.0003 16.2V14.6784C15.6355 14.4678 15.3325 14.1648 15.1219 13.8C14.9113 13.4351 14.8004 13.0213 14.8004 12.6C14.8004 12.1787 14.9113 11.7649 15.1219 11.4001C15.3325 11.0352 15.6355 10.7323 16.0003 10.5216V1.80001C16.0003 1.48175 16.1267 1.17652 16.3518 0.951478C16.5768 0.726434 16.882 0.600006 17.2003 0.600006Z"
                  fill="#828282"
                />
              </svg>
            </Box>
          </InputLabel>
        ) : (
          <InputLabel id="demo-simple-select-label" sx={{ fontSize: "1.6rem" }}>
            {placeholder}
          </InputLabel>
        )}

        <Select
          id="simple-select"
          label={placeholder}
          sx={{ height }}
          value={value}
          onChange={handleChange}
        >
          {options.map((option, index) => {
            return (
              <MenuItem key={index} value={option}>
                {option}
              </MenuItem>
            );
          })}
        </Select>
      </FormControl>
    </Box>
  );
};

FilterBox.propTypes = {
  options: PropTypes.array.isRequired,
  width: PropTypes.string,
  placeholder: PropTypes.string.isRequired,
  type: PropTypes.string.isRequired,
  height: PropTypes.string.isRequired,
};

export default FilterBox;
